{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/Persons.js","services/persons.js","components/Notification.js","App.js","index.js"],"names":["Filter","onChangeHandler","onChange","PersonForm","props","inputNameOnChange","newName","inputNumberOnChange","newNumber","addContact","onSubmit","value","required","type","Person","person","handleDeletePerson","name","number","onClick","Persons","persons","filterBy","length","filter","toLocaleLowerCase","includes","map","key","id","baseUrl","axios","get","then","response","data","newPerson","post","delete","put","Notificatoin","notification","msg","className","isError","App","useState","setPersons","setNewName","setNewNumber","setFilterBy","setNotification","useEffect","personService","event","target","preventDefault","existedPerson","find","trim","window","confirm","concat","setTimeout","catch","err","console","log","error","delPerson","status","ReactDOM","render","document","getElementById"],"mappings":"kOAIeA,EAFA,SAAC,GAAD,IAAEC,EAAF,EAAEA,gBAAF,OAAuB,gDAAqB,2BAAOC,SAAUD,MCqB7DE,EArBI,SAACC,GAAW,IAEvBC,EAEcD,EAFdC,kBAAmBC,EAELF,EAFKE,QACnBC,EACcH,EADdG,oBAAqBC,EACPJ,EADOI,UACrBC,EAAcL,EAAdK,WAEJ,OACI,0BAAMC,SAAUD,GACZ,sCACU,2BAAOP,SAAUG,EAAmBM,MAAOL,EAASM,UAAQ,KAEtE,wCACY,2BAAOV,SAAUK,EAAqBI,MAAOH,EAAWI,UAAQ,KAE5E,6BACI,4BAAQC,KAAK,UAAb,UCfVC,EAAS,SAAC,GAAD,IAAEC,EAAF,EAAEA,OAAQC,EAAV,EAAUA,mBAAV,OAAkC,2BAAID,EAAOE,KAAX,IAAkBF,EAAOG,OAAzB,IAAiC,4BAAQC,QAAS,kBAAMH,EAAmBD,KAA1C,YAUnEK,EARC,SAAC,GAA6C,IAA5CC,EAA2C,EAA3CA,QAASC,EAAkC,EAAlCA,SAAUN,EAAwB,EAAxBA,mBACjC,OAAOM,EAASC,OAAS,EACrBF,EACGG,QAAO,SAAAT,GAAM,OAAIA,EAAOE,KAAKQ,oBAAoBC,SAASJ,EAASG,wBACnEE,KAAI,SAAAZ,GAAM,OAAI,kBAAC,EAAD,CAAQa,IAAKb,EAAOc,GAAId,OAAQA,EAAQC,mBAAoBA,OAC7EK,EAAQM,KAAI,SAAAZ,GAAM,OAAI,kBAAC,EAAD,CAAQa,IAAKb,EAAOc,GAAId,OAAQA,EAAQC,mBAAoBA,Q,gBCPpFc,EAAU,eAUD,EARA,kBAAMC,IAAMC,IAAIF,GAASG,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAQnD,EANA,SAAAC,GAAS,OAAIL,IAAMM,KAAKP,EAASM,GAAWH,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAMtE,EAJM,SAAAN,GAAE,OAAIE,IAAMO,OAAN,UAAgBR,EAAhB,YAA2BD,KAIvC,EAFA,SAAAd,GAAM,OAAIgB,IAAMQ,IAAN,UAAaT,EAAb,YAAwBf,EAAOc,IAAMd,GAAQkB,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SCKjFK,EAbM,SAAC,GAAoB,IAAnBC,EAAkB,EAAlBA,aACrB,GAAwB,OAArBA,EAAaC,IACd,OAAO,KAGT,IAAMC,EAAYF,EAAaG,QAAU,qBAAuB,4BAEhE,OACA,yBAAKD,UAAWA,GACbF,EAAaC,MCkGHG,EApGH,WAAO,IAAD,EACcC,mBAAS,IADvB,mBACTzB,EADS,KACA0B,EADA,OAEcD,mBAAS,IAFvB,mBAETxC,EAFS,KAEA0C,EAFA,OAGkBF,mBAAS,IAH3B,mBAGTtC,EAHS,KAGEyC,EAHF,OAIgBH,mBAAS,IAJzB,mBAITxB,EAJS,KAIC4B,EAJD,OAKwBJ,mBAAS,CAACJ,IAAI,KAAME,SAAS,IALrD,mBAKTH,EALS,KAKKU,EALL,KAOhBC,qBAAU,WACRC,IAEGpB,MAAK,SAAAE,GAAI,OAAIY,EAAWZ,QAC3B,IAkEF,OACE,6BACE,yCACA,kBAAC,EAAD,CAAcM,aAAcA,IAC5B,kBAAC,EAAD,CAAQxC,gBAlEiB,SAACqD,GAAD,OAAWJ,EAAYI,EAAMC,OAAO5C,UAoE7D,yCAEA,kBAAC,EAAD,CACEN,kBAzEoB,SAACiD,GAAD,OAAWN,EAAWM,EAAMC,OAAO5C,QA0EvDL,QAASA,EACTC,oBA1EsB,SAAC+C,GAAD,OAAWL,EAAaK,EAAMC,OAAO5C,QA2E3DH,UAAWA,EACXC,WAzEa,SAAC6C,GAClBA,EAAME,iBAEN,IAAMC,EAAgBpC,EACjBqC,MAAK,SAAA3C,GAAM,OAAIA,EAAOE,KAAKQ,sBAAwBnB,EAAQmB,oBAAoBkC,UAEpF,GAAGF,EACD,OAAGG,OAAOC,QAAP,UAAkBvD,EAAQqD,OAA1B,gFACDN,EAAA,2BACYI,GADZ,IAC2BvC,OAAQV,KAClCyB,MAAK,SAAAE,GACJY,EACE1B,EACCG,QAAO,SAAAT,GAAM,OAAIA,EAAOc,KAAO4B,EAAc5B,MAC7CiC,OAAO3B,IAEVgB,EAAgB,CAACT,IAAI,GAAD,OAAKpC,EAAL,8BAA0CsC,SAAS,IACvEmB,YAAW,kBAAMZ,EAAgB,CAACT,IAAK,KAAME,SAAS,MAAS,KAC/DI,EAAW,IACXC,EAAa,OAEde,OAAM,SAAAC,GACLC,QAAQC,IAAI,CAACF,QACbd,EAAgB,CAACT,IAAKuB,EAAI/B,SAASC,KAAKiC,MAAOxB,SAAS,YAI5D,EAGFS,EACU,CAAEpC,KAAMX,EAASY,OAAQV,IAChCyB,MAAK,SAAAE,GACJY,EAAW1B,EAAQyC,OAAO3B,IAC1Ba,EAAW,IACXC,EAAa,IACbE,EAAgB,CAACT,IAAI,SAAD,OAAWpC,GAAWsC,SAAS,IACnDmB,YAAW,kBAAMZ,EAAgB,CAACT,IAAI,KAAME,SAAQ,MAAS,QAE9DoB,OAAM,SAAAC,GACLC,QAAQC,IAAI,CAACF,QACbd,EAAgB,CAACT,IAAKuB,EAAI/B,SAASC,KAAKiC,MAAOxB,SAAS,UAkC1D,uCAEA,kBAAC,EAAD,CAASvB,QAASA,EAASC,SAAUA,EAAUN,mBAhCxB,SAAAqD,GACtBT,OAAOC,QAAP,iBAAyBQ,EAAUpD,KAAnC,QACDoC,EACgBgB,EAAUxC,IACvBI,MAAK,SAAAC,GACmB,MAApBA,EAASoC,QACVvB,EAAW1B,EAAQG,QAAO,SAAAT,GAAM,OAAIA,EAAOc,KAAOwC,EAAUxC,UAE/DmC,OAAM,SAAAI,GACLjB,EAAgB,CAACT,IAAI,kBAAD,OAAoB2B,EAAUpD,KAA9B,yCAA2E2B,SAAS,IACxGmB,YAAW,kBAAMZ,EAAgB,CAACT,IAAK,KAAME,SAAS,MAAS,a,MC5EzE2B,IAASC,OACP,kBAAC,EAAD,MACAC,SAASC,eAAe,W","file":"static/js/main.a72f9373.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Filter = ({onChangeHandler}) => <p>filter shown with <input onChange={onChangeHandler}/></p>\r\n\r\nexport default Filter","import React from 'react'\r\n\r\nconst PersonForm = (props) => {\r\n    const {\r\n        inputNameOnChange, newName,\r\n        inputNumberOnChange, newNumber,\r\n        addContact} = props\r\n\r\n    return(\r\n        <form onSubmit={addContact}>\r\n            <div>\r\n                name: <input onChange={inputNameOnChange} value={newName} required/>\r\n            </div>\r\n            <div>\r\n                nubmer: <input onChange={inputNumberOnChange} value={newNumber} required/>\r\n            </div>\r\n            <div>\r\n                <button type=\"submit\">add</button>\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\n\r\nexport default PersonForm","import React from 'react'\r\n\r\nconst Person = ({person, handleDeletePerson}) => <p>{person.name} {person.number} <button onClick={() => handleDeletePerson(person)}>delete</button></p>\r\n\r\nconst Persons = ({persons, filterBy, handleDeletePerson}) => {\r\n    return filterBy.length > 0 ? \r\n        persons\r\n          .filter(person => person.name.toLocaleLowerCase().includes(filterBy.toLocaleLowerCase()))\r\n          .map(person => <Person key={person.id} person={person} handleDeletePerson={handleDeletePerson}/>) :\r\n        persons.map(person => <Person key={person.id} person={person} handleDeletePerson={handleDeletePerson}/>)\r\n}\r\n\r\nexport default Persons","import axios from 'axios'\r\n\r\nconst baseUrl = '/api/persons' \r\n\r\nconst getAll = () => axios.get(baseUrl).then(response => response.data)\r\n\r\nconst create = newPerson => axios.post(baseUrl, newPerson).then(response => response.data)\r\n\r\nconst deletePerson = id => axios.delete(`${baseUrl}/${id}`)\r\n\r\nconst update = person => axios.put(`${baseUrl}/${person.id}`, person).then(response => response.data)\r\n\r\nexport default {getAll, create, deletePerson, update}","import React from 'react'\r\n\r\nconst Notificatoin = ({notification}) => {\r\n  if(notification.msg === null){\r\n    return null\r\n  }\r\n\r\n  const className = notification.isError ? 'notification error' : 'notification announcement'\r\n  \r\n  return (\r\n  <div className={className}>\r\n    {notification.msg}\r\n  </div>)\r\n}\r\n\r\nexport default Notificatoin","import React, { useState, useEffect } from 'react'\r\n\r\nimport Filter from './components/Filter'\r\nimport PersonForm from './components/PersonForm'\r\nimport Persons from './components/Persons'\r\nimport personService from './services/persons'\r\nimport Notificatoin from './components/Notification'\r\n\r\n\r\nconst App = () => {\r\n  const [persons, setPersons] = useState([])\r\n  const [newName, setNewName] = useState('')\r\n  const [newNumber, setNewNumber] = useState('')\r\n  const [filterBy, setFilterBy] = useState('')\r\n  const [notification, setNotification] = useState({msg:null, isError: false})\r\n\r\n  useEffect(() => {\r\n    personService\r\n      .getAll()\r\n      .then(data => setPersons(data))\r\n  },[])\r\n\r\n  const inputNameOnChange = (event) => setNewName(event.target.value)\r\n  const inputNumberOnChange = (event) => setNewNumber(event.target.value)\r\n  const filterNumberOnChange = (event) => setFilterBy(event.target.value)\r\n\r\n  const addContact = (event) => {\r\n    event.preventDefault();\r\n\r\n    const existedPerson = persons\r\n        .find(person => person.name.toLocaleLowerCase() === newName.toLocaleLowerCase().trim())\r\n\r\n    if(existedPerson){\r\n      if(window.confirm(`${newName.trim()} is already added to phonebook, replace the old number with a new one?`)){\r\n        personService\r\n        .update({...existedPerson, number: newNumber})\r\n        .then(data => {\r\n          setPersons(\r\n            persons\r\n            .filter(person => person.id !== existedPerson.id)\r\n            .concat(data)\r\n          )\r\n          setNotification({msg: `${newName}'s number has been updated`, isError: false})\r\n          setTimeout(() => setNotification({msg: null, isError: false}), 3000)\r\n          setNewName('')\r\n          setNewNumber('')\r\n        })\r\n        .catch(err => {\r\n          console.log({err})\r\n          setNotification({msg: err.response.data.error, isError: true})\r\n        })\r\n        return\r\n      }\r\n      return\r\n    }\r\n\r\n    personService\r\n      .create({ name: newName, number: newNumber})\r\n      .then(data => {\r\n        setPersons(persons.concat(data))\r\n        setNewName('')\r\n        setNewNumber('')\r\n        setNotification({msg: `Added ${newName}`, isError: false})\r\n        setTimeout(() => setNotification({msg:null, isError:false}), 3000)\r\n      })\r\n      .catch(err => {\r\n        console.log({err})\r\n        setNotification({msg: err.response.data.error, isError: true})\r\n      })\r\n  }\r\n\r\n  const handleDeletePerson = delPerson =>{\r\n    if(window.confirm(`Delete ${delPerson.name} ?`)){\r\n      personService\r\n        .deletePerson(delPerson.id)\r\n        .then(response => {\r\n          if(response.status === 204)\r\n            setPersons(persons.filter(person => person.id !== delPerson.id))\r\n        })\r\n        .catch(error => {\r\n          setNotification({msg: `Information of ${delPerson.name} has alreayd been removed from server`, isError: true})\r\n          setTimeout(() => setNotification({msg: null, isError: false}), 3000)\r\n        })\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <h2>Phonebook</h2>\r\n      <Notificatoin notification={notification}/>\r\n      <Filter onChangeHandler={filterNumberOnChange} />\r\n\r\n      <h3>add a new</h3>\r\n\r\n      <PersonForm\r\n        inputNameOnChange={inputNameOnChange}\r\n        newName={newName}\r\n        inputNumberOnChange={inputNumberOnChange}\r\n        newNumber={newNumber}\r\n        addContact={addContact}/>\r\n      \r\n      <h3>Numbers</h3>\r\n      \r\n      <Persons persons={persons} filterBy={filterBy} handleDeletePerson={handleDeletePerson}/>\r\n      \r\n    </div>\r\n  )\r\n}\r\n\r\nexport default App","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\nimport './style.css'\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n)"],"sourceRoot":""}